<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.LoginMapper">
	
	<select id="comLogin" parameterType="hashmap" resultType="ComDTO">
		select comnum, comid, compasswd, comname, comssn, comphone, comgrade,
			 comemail, comaddr1, comaddr2, compost1, compost2
		from commember
		where comid = #{userid}
		and compasswd = #{passwd}
	</select>
	
	<select id="entLogin" parameterType="hashmap" resultType="EntDTO">
		select entnum, entid, entpasswd, entname, entlocation, entphone,
			 entcellphone, entfax, entin, enttype
		from entmember
		where entid = #{userid}
		and entpasswd = #{passwd}
	</select>
	
	<select id="admLogin" parameterType="hashmap" resultType="AdmDTO">
		select admnum, admid, admpasswd
		from adminator
		where admid = #{userid}
		and admpasswd = #{passwd}		
	</select>
	
	<update id="comChange" parameterType="ComDTO">
		update commember
		set compasswd=#{compasswd}, comname=#{comname}, comphone=#{comphone}, comemail=#{comemail},
		comaddr1=#{comaddr1}, comaddr2=#{comaddr2}, compost1=#{compost1}, compost2=#{compost2}
		where comnum=#{comnum}
	
	</update>
	
	<delete id="comDelete" parameterType="int">
		delete from commember
		where comnum=#{comnum}
	</delete>

</mapper>





